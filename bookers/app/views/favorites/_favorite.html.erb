<!--いいね機能の部分テンプレート-->

<!--いいねボタンにAjaxの処理を適用させる-->

<!--ユーザーが「いいね」を押しているかどうかを判別するためのメソッド-->

<% if book.favorited_by?(current_user) %>
  <%= link_to book_favorites_path(book), method: :delete, remote: true do %>
    <i class="fa fa-heart" aria-hidden="true" style="color: red;"></i>
    <%= book.favorites.count %>
  <% end %>
<% else %>
  <%= link_to book_favorites_path(book), method: :post, remote: true do %>
    <i class="fa fa-heart-o" aria-hidden="true"></i>
    <%= book.favorites.count %>
  <% end %>
<% end %>

<!--JavaScriptリクエストの場合-->
<!--→データベースにいいねを保存or削除し、JavaScriptを使っていいね部分のみ更新する(ページ読み込みなし)-->